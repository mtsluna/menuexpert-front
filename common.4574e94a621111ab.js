"use strict";(self.webpackChunkmenuexpert_front=self.webpackChunkmenuexpert_front||[]).push([[76],{1028:(E,c,t)=>{t.d(c,{A:()=>s});const s={baseUrl:"https://catalog-api.up.railway.app"}},1339:(E,c,t)=>{t.d(c,{u:()=>n});var s=t(467),d=t(7231),_=t(3207),i=t(4438),a=t(5719),u=t(2753);let n=(()=>{class e{constructor(l,r){this.angularFireAuth=l,this.clientService=r}login(){var l=this;return(0,s.A)(function*(){const r=yield l.angularFireAuth.signInWithPopup(new d.HF),h=yield(0,_.s)(l.clientService.search(r.user?.uid||"","google.com"));return r.additionalUserInfo?.isNewUser||r.additionalUserInfo&&h.empty?yield(0,_.s)(l.clientService.post({email:r.user?.email||void 0,externalId:r.user?.uid,name:r.user?.displayName||void 0,source:r.additionalUserInfo.providerId})):!h.empty&&r.additionalUserInfo&&(yield(0,_.s)(l.clientService.put(h?.content[0].id||"",{...h.content[0],email:r.user?.email||void 0,externalId:r.user?.uid,name:r.user?.displayName||void 0,source:r.additionalUserInfo.providerId,id:void 0}))),r})()}logout(){this.angularFireAuth.signOut()}getSession(){return this.angularFireAuth.user}getUser(){return this.angularFireAuth.user}hasUser(){return!!this.angularFireAuth.user}static#t=this.\u0275fac=function(r){return new(r||e)(i.KVO(a.DS),i.KVO(u.X))};static#e=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},2753:(E,c,t)=>{t.d(c,{X:()=>i});var s=t(1028),d=t(4438),_=t(1626);let i=(()=>{class a{constructor(n){this.httpClient=n}post(n){return this.httpClient.post(`${s.A.baseUrl}/clients`,n)}put(n,e){return this.httpClient.put(`${s.A.baseUrl}/clients/${n}`,e)}search(n,e){return this.httpClient.get(`${s.A.baseUrl}/clients`,{params:{source:e,externalId:n}})}static#t=this.\u0275fac=function(e){return new(e||a)(d.KVO(_.Qq))};static#e=this.\u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},573:(E,c,t)=>{t.d(c,{n:()=>a});var s=t(1028),d=t(6354),_=t(4438),i=t(1626);let a=(()=>{class u{constructor(e){this.httpClient=e}getStoreByCatalogId(e){return this.httpClient.get(`${s.A.baseUrl}/stores/by-catalog/${e}`).pipe((0,d.T)(o=>(localStorage.setItem("store",JSON.stringify(o)),o)))}getStoreById(e){return this.httpClient.get(`${s.A.baseUrl}/stores/${e}`).pipe((0,d.T)(o=>(localStorage.setItem("store",JSON.stringify(o)),o)))}getStoreFromLocalStorage(){const e=localStorage.getItem("store")||"";return JSON.parse(e)}static#t=this.\u0275fac=function(o){return new(o||u)(_.KVO(i.Qq))};static#e=this.\u0275prov=_.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},4843:(E,c,t)=>{t.d(c,{_:()=>_});var s=t(9350),d=t(7707);function _(i,a){const u="object"==typeof a;return new Promise((n,e)=>{const o=new d.Ms({next:l=>{n(l),o.unsubscribe()},error:e,complete:()=>{u?n(a.defaultValue):e(new s.G)}});i.subscribe(o)})}},3207:(E,c,t)=>{t.d(c,{s:()=>d});var s=t(9350);function d(_,i){const a="object"==typeof i;return new Promise((u,n)=>{let o,e=!1;_.subscribe({next:l=>{o=l,e=!0},error:n,complete:()=>{e?u(o):a?u(i.defaultValue):n(new s.G)}})})}}}]);