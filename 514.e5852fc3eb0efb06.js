"use strict";(self.webpackChunkmenuexpert_front=self.webpackChunkmenuexpert_front||[]).push([[514],{514:(vt,v,a)=>{a.r(v),a.d(v,{CatalogModule:()=>ft});var c=a(6895),C=a(9751),y=a(8421);const{isArray:b}=Array;var T=a(515),O=a(5403),w=a(3269);var t=a(4650),g=a(6962),M=a(9314),P=a(9806),I=a(4004),U=a(529);let S=(()=>{class n{constructor(e){this.httpClient=e}getCatalog(e){return this.httpClient.get(`${P.Z.baseUrl}/catalogs/${e}`).pipe((0,I.U)(o=>{const i=o.products?.map(d=>d.category),s=new Set,l=i.filter((d,_)=>!s.has(d.id)&&(s.add(d.id),!0),new Set);return l.forEach(d=>{d.products=o.products?.filter(_=>_.category?.id===d.id)?.filter(_=>_.isVisible)?.filter(_=>_.isActive)}),{...o,categories:l.filter(d=>d.products.length>0).sort((d,_)=>d.order-_.order)}}))}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(U.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var F=a(230),m=a(5412),u=a(7392),x=a(4859),J=a(6188);function k(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",t.xi3(2,2,e.openAt,"hh:mm a")," a ",t.xi3(3,5,e.closeAt,"hh:mm a"),"")}}function N(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1,"Cerrado"),t.qZA())}function Q(n,r){if(1&n&&(t.TgZ(0,"div",11)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,k,4,8,"div",12),t.YNc(5,N,2,0,"div",12),t.qZA()),2&n){const e=r.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,"schedule.days."+e.day)),t.xp6(2),t.Q6J("ngIf",!e.closedAllDay),t.xp6(1),t.Q6J("ngIf",e.closedAllDay)}}let Y=(()=>{class n{constructor(e){this.data=e,this.store=e}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(m.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-information"]],decls:17,vars:5,consts:[[1,"information"],[1,"information__header"],["mat-mini-fab","","color","accent",1,"information__header__close",3,"mat-dialog-close"],[1,"information__header__button__icon"],[1,"information__header__title"],[1,"information__schedule"],[1,"information__schedule__icon"],[1,"information__schedule__items"],[1,"information__schedule__items__title"],[1,"information__schedule__items__content"],["class","information__schedule__items__content__item",4,"ngFor","ngForOf"],[1,"information__schedule__items__content__item"],[4,"ngIf"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2)(3,"mat-icon",3),t._uU(4,"close"),t.qZA()(),t.TgZ(5,"div",4),t._uU(6,"Informaci\xf3n"),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"mat-icon"),t._uU(10,"schedule"),t.qZA()(),t.TgZ(11,"div",7)(12,"div",8),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",9),t.YNc(16,Q,6,5,"div",10),t.qZA()()()()),2&o&&(t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(11),t.hij(" ",t.lcZ(14,3,"schedule.title")," "),t.xp6(3),t.Q6J("ngForOf",i.store.schedule))},dependencies:[c.sg,c.O5,u.Hw,x.nh,m.ZT,c.uU,J.X$],styles:[".information[_ngcontent-%COMP%]{z-index:999999}.information__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.information__header__button__icon[_ngcontent-%COMP%]{transform:scale(.8)}.information__header__title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600}.information__schedule[_ngcontent-%COMP%]{display:flex;flex-direction:row}.information__schedule__icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:1.5rem;padding-left:1rem;padding-right:1rem}.information__schedule__items[_ngcontent-%COMP%]{padding-right:1rem;width:100%;display:flex;flex-direction:column;gap:.5rem}.information__schedule__items__title[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:1.5rem;font-weight:600;font-size:16px}.information__schedule__items__content__item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:1rem}"]})}return n})();function q(n,r){if(1&n&&t._UZ(0,"img",9),2&n){const e=t.oxw();t.s9C("src",e.store.image,t.LSH),t.MGl("alt","Banner of ",e.store.name,"")}}function B(n,r){if(1&n&&(t.TgZ(0,"div",10),t._UZ(1,"img",11),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.s9C("src",e.store.logo,t.LSH),t.MGl("alt","Logo of ",e.store.name,"")}}let j=(()=>{class n{constructor(e){this.dialog=e}openInformation(){this.dialog.open(Y,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",panelClass:"full-screen-modal",data:this.store}).afterClosed().subscribe()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(m.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-brand"]],inputs:{store:"store"},decls:12,vars:5,consts:[[1,"brand"],[1,"brand__banner"],["class","brand__banner__image",3,"src","alt",4,"ngIf"],["mat-mini-fab","","color","accent",1,"brand__banner__information",3,"click"],[1,"navigator__button__icon"],["class","brand__logo",4,"ngIf"],[1,"brand__header",3,"ngClass"],[1,"brand__header__title"],[1,"brand__header__subtitle"],[1,"brand__banner__image",3,"src","alt"],[1,"brand__logo"],[1,"brand__logo__image",3,"src","alt"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,q,1,2,"img",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return i.openInformation()}),t.TgZ(4,"mat-icon",4),t._uU(5,"info_outline"),t.qZA()()(),t.YNc(6,B,2,2,"div",5),t.TgZ(7,"div",6)(8,"div",7),t._uU(9),t.qZA(),t.TgZ(10,"div",8),t._uU(11),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("ngIf",i.store.image),t.xp6(4),t.Q6J("ngIf",i.store.logo),t.xp6(1),t.Q6J("ngClass",i.store.logo?"brand__header__extra-padding":"brand__header"),t.xp6(2),t.Oqu(i.store.name),t.xp6(2),t.Oqu(i.store.description))},dependencies:[c.mk,c.O5,u.Hw,x.nh],styles:[".brand[_ngcontent-%COMP%]{position:relative;background:#FFFFFF}.brand__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:1rem}.brand__header__extra-padding[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:4.25rem 1rem 1rem}.brand__header__title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600}.brand__header__subtitle[_ngcontent-%COMP%]{font-size:.75rem;color:#989292}.brand__banner[_ngcontent-%COMP%]{background-color:#f6f6f6;width:100%;height:175px}.brand__banner__image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.brand__banner__information[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem}.brand__logo[_ngcontent-%COMP%]{border-radius:100%;position:absolute;background-color:#fff;top:7.68rem;left:1rem;width:104px;height:104px}.brand__logo__image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]})}return n})();var p=a(5861),z=a(1389),L=(a(2090),a(6881),a(1877),a(3475),a(5200));let H=(()=>{class n{constructor(e){this.angularFireAuth=e}login(){var e=this;return(0,p.Z)(function*(){return e.angularFireAuth.signInWithPopup(new z.V)})()}logout(){this.angularFireAuth.signOut()}getSession(){return this.angularFireAuth.user}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(L.zQ))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var f=a(1561);function V(n,r){1&n&&(t.ynx(0),t.TgZ(1,"mat-icon",8),t._uU(2,"person"),t.qZA(),t.BQk())}function E(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",9),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.s9C("src",e.image,t.LSH)}}function R(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.login())}),t.TgZ(1,"mat-icon"),t._uU(2,"login"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Login"),t.qZA()()}}function $(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.login())}),t.TgZ(1,"mat-icon"),t._uU(2,"sync"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Cambiar de usuario"),t.qZA()()}}function X(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.logout())}),t.TgZ(1,"mat-icon"),t._uU(2,"logout"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Logout"),t.qZA()()}}let G=(()=>{class n{constructor(e){this.authService=e,this.loading=!0}ngOnInit(){var e=this;return(0,p.Z)(function*(){e.setAuthUserData()})()}login(){var e=this;return(0,p.Z)(function*(){const o=yield e.authService.login();console.log(o),e.image=o.additionalUserInfo?.profile.picture})()}logout(){this.authService.logout()}setAuthUserData(){this.authService.getSession().subscribe(e=>{this.loading=!1,this.image=e?.photoURL||void 0,this.user=e})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(H))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-navbar"]],decls:11,vars:6,consts:[[1,"navbar"],["alt","menu expert icon","src","assets/images/logo.svg",1,"navbar__logo"],[1,"navbar__actions",3,"matMenuTriggerFor"],[1,"navbar__login"],[4,"ngIf"],[1,"menu-custom"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"navigator__button__icon"],[1,"navbar__login__icon",3,"src"],["mat-menu-item","",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"button",3),t.YNc(4,V,3,0,"ng-container",4),t.YNc(5,E,2,1,"ng-container",4),t.qZA()(),t.TgZ(6,"mat-menu",5,6),t.YNc(8,R,5,0,"button",7),t.YNc(9,$,5,0,"button",7),t.YNc(10,X,5,0,"button",7),t.qZA()()),2&o){const s=t.MAs(7);t.xp6(2),t.Q6J("matMenuTriggerFor",s),t.xp6(2),t.Q6J("ngIf",!i.image&&!i.loading),t.xp6(1),t.Q6J("ngIf",i.image&&!i.loading),t.xp6(3),t.Q6J("ngIf",!i.user),t.xp6(1),t.Q6J("ngIf",i.user),t.xp6(1),t.Q6J("ngIf",i.user)}},dependencies:[c.O5,u.Hw,f.VK,f.OP,f.p6],styles:[".mat-mdc-menu-panel{border-radius:0!important;box-shadow:none!important}.navbar[_ngcontent-%COMP%]{height:4rem;background-color:#fff;padding:0 0 0 1rem;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between}.navbar__logo[_ngcontent-%COMP%]{height:2rem}.navbar__button[_ngcontent-%COMP%]{all:unset}.navbar__actions[_ngcontent-%COMP%]{height:100%;padding:0 1rem 0 0;display:flex;align-items:center;justify-content:center}.navbar__login[_ngcontent-%COMP%]{all:unset;background-color:#f6f6f6;border-radius:100%;overflow:hidden;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.navbar__login__icon[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}"]})}return n})();var D=a(3721);let K=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"footer"],["ngSrc","assets/images/logo.svg","height","55","width","108","alt","menuexpert.app logo"],[1,"footer__social-media"],["href","https://www.instagram.com/menuexpert.app/"],["ngSrc","assets/icons/instagram.svg","height","30","width","30","alt","Instagram logo"],["href","https://www.facebook.com/menuexpert.app"],["ngSrc","assets/icons/facebook.svg","height","30","width","30","alt","Facebook logo"],["href","https://twitter.com/menuexpert.app"],["ngSrc","assets/icons/x.svg","height","30","width","30","alt","X logo"],[1,"footer__links"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"section"),t._UZ(2,"img",1)(3,"hr"),t.qZA(),t.TgZ(4,"section",2)(5,"a",3),t._UZ(6,"img",4),t.qZA(),t.TgZ(7,"a",5),t._UZ(8,"img",6),t.qZA(),t.TgZ(9,"a",7),t._UZ(10,"img",8),t.qZA()(),t.TgZ(11,"section",9)(12,"a"),t._uU(13,"Contacto"),t.qZA(),t.TgZ(14,"a"),t._uU(15,"Integra tu negocio"),t.qZA(),t.TgZ(16,"a"),t._uU(17,"T\xe9rminos Condiciones"),t.qZA(),t.TgZ(18,"a"),t._uU(19,"Pol\xedtica de privacidad"),t.qZA(),t.TgZ(20,"p"),t._uU(21,"\xa9 2024 QTech S.R.L."),t.qZA()()())},dependencies:[c.Zd],styles:[".footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 1rem;gap:1rem;margin-bottom:5.5rem}.footer__social-media[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.footer__links[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}"]})}return n})();function W(n,r){if(1&n&&t._UZ(0,"img",7),2&n){const e=t.oxw();t.MGl("alt","Image of ",e.product.title,""),t.s9C("src",e.product.image,t.LSH)}}function tt(n,r){if(1&n&&(t.TgZ(0,"div",8)(1,"div",9),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.primaryBadge.name," ")}}let et=(()=>{class n{constructor(e,o){this.router=e,this.activatedRoute=o,this.catalogId=this.activatedRoute.snapshot.queryParamMap.get("catalog")||void 0}ngOnInit(){}redirectToDetail(){var e=this;return(0,p.Z)(function*(){yield e.router.navigate([`/detail/${e.product?.id}`],{queryParams:{catalog:e.catalogId}})})()}get primaryBadge(){return this.product.badges?this.product?.badges[0]:null}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(g.F0),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-visual-card"]],inputs:{product:"product"},decls:10,vars:7,consts:[[1,"visual-card",3,"click"],[1,"visual-card__resource"],["class","visual-card__resource__image",3,"alt","src",4,"ngIf"],[1,"visual-card__data"],[1,"visual-card__data__title"],[1,"visual-card__data__price"],["class","visual-card__badge",4,"ngIf"],[1,"visual-card__resource__image",3,"alt","src"],[1,"visual-card__badge"],[1,"visual-card__badge__item"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return i.redirectToDetail()}),t.TgZ(1,"div",1),t.YNc(2,W,1,2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5),t._uU(7),t.ALo(8,"currency"),t.qZA()(),t.YNc(9,tt,3,1,"div",6),t.qZA()),2&o&&(t.xp6(2),t.Q6J("ngIf",i.product.image),t.xp6(3),t.hij(" ",i.product.title," "),t.xp6(2),t.hij(" ",t.xi3(8,4,i.product.price.amount,i.product.price.currency.code)," "),t.xp6(2),t.Q6J("ngIf",null!=i.primaryBadge))},dependencies:[c.O5,c.H9],styles:[".visual-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:space-between;border-radius:10px;height:12.0625rem;background-color:#fff}.visual-card__badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;flex-direction:row;gap:.25rem;font-size:12px}.visual-card__badge__item[_ngcontent-%COMP%]{color:#fff;border-radius:0 10px;padding:.2rem .5rem;background-color:#21a300}.visual-card__data[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:.25rem;padding:.5rem;height:4.3125rem}.visual-card__data__title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.visual-card__data__price[_ngcontent-%COMP%]{font-size:12px}.visual-card__resource__image[_ngcontent-%COMP%]{object-fit:cover;border-radius:10px 10px 0 0;height:120px;width:100%}"]})}return n})();function nt(n,r){if(1&n&&(t.TgZ(0,"div",7),t._UZ(1,"img",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.MGl("alt","Image of ",e.product.title,""),t.s9C("src",e.product.image,t.LSH)}}function ot(n,r){if(1&n&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.primaryBadge.name," ")}}let it=(()=>{class n{constructor(e,o){this.router=e,this.activatedRoute=o,this.catalogId=this.activatedRoute.snapshot.queryParamMap.get("catalog")||void 0}ngOnInit(){}redirectToDetail(){var e=this;return(0,p.Z)(function*(){yield e.router.navigate([`/detail/${e.product?.id}`],{queryParams:{catalog:e.catalogId}})})()}get primaryBadge(){return this.product.badges?this.product?.badges[0]:null}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(g.F0),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-simple-card"]],inputs:{product:"product"},decls:11,vars:8,consts:[[1,"simple-card",3,"click"],[1,"simple-card__data"],[1,"simple-card__data__title"],[1,"simple-card__data__price"],[1,"simple-card__data__description"],["class","simple-card__resource",4,"ngIf"],["class","simple-card__badge",4,"ngIf"],[1,"simple-card__resource"],[1,"simple-card__resource__image",3,"alt","src"],[1,"simple-card__badge"],[1,"simple-card__badge__item"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return i.redirectToDetail()}),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t._uU(5),t.ALo(6,"currency"),t.qZA(),t.TgZ(7,"div",4),t._uU(8),t.qZA()(),t.YNc(9,nt,2,2,"div",5),t.YNc(10,ot,3,1,"div",6),t.qZA()),2&o&&(t.xp6(3),t.hij(" ",i.product.title," "),t.xp6(2),t.hij(" ",t.xi3(6,5,i.product.price.amount,i.product.price.currency.code)," "),t.xp6(3),t.hij(" ",i.product.description," "),t.xp6(1),t.Q6J("ngIf",i.product.image),t.xp6(1),t.Q6J("ngIf",null!=i.primaryBadge))},dependencies:[c.O5,c.H9],styles:[".simple-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;justify-content:space-between;gap:.25rem;background-color:#fff;border-radius:10px;padding:.5rem}.simple-card__badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;flex-direction:row;gap:.25rem;font-size:12px}.simple-card__badge__item[_ngcontent-%COMP%]{color:#fff;border-radius:0 10px;padding:.2rem .5rem;background-color:#21a300}.simple-card__data[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.simple-card__data__title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.simple-card__data__price[_ngcontent-%COMP%]{font-size:12px}.simple-card__data__description[_ngcontent-%COMP%]{font-size:12px;color:#989292;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}.simple-card__resource[_ngcontent-%COMP%]{height:104px;width:104px}.simple-card__resource__image[_ngcontent-%COMP%]{border-radius:10px;height:104px;width:104px;object-fit:cover}.simple-card__resource__no-image[_ngcontent-%COMP%]{background-color:#00000005}"]})}return n})();function at(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-visual-card",5),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("product",e)}}function rt(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-simple-card",5),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("product",e)}}function ct(n,r){if(1&n&&(t.ynx(0),t.YNc(1,at,2,1,"ng-container",4),t.YNc(2,rt,2,1,"ng-container",4),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","VISUAL"===(null==e.category?null:e.category.categoryType)),t.xp6(1),t.Q6J("ngIf","NORMAL"===(null==e.category?null:e.category.categoryType))}}const st=function(n,r){return{section__visual:n,section__normal:r}};let lt=(()=>{class n{constructor(){this.type="VISUAL"}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-section"]],inputs:{type:"type",category:"category"},decls:5,vars:7,consts:[[1,"section",3,"id"],[1,"section__name"],[3,"ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"product"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,ct,3,2,"ng-container",3),t.qZA()()),2&o&&(t.Q6J("id",null==i.category?null:i.category.id),t.xp6(2),t.hij(" ",null==i.category?null:i.category.name," "),t.xp6(1),t.Q6J("ngClass",t.WLB(4,st,"VISUAL"===(null==i.category?null:i.category.categoryType),"NORMAL"===(null==i.category?null:i.category.categoryType))),t.xp6(1),t.Q6J("ngForOf",null==i.category?null:i.category.products))},dependencies:[c.mk,c.sg,c.O5,et,it],styles:[".section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.section__name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.section__visual[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:.5rem .5rem}.section__normal[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);grid-gap:.5rem 1rem}"]})}return n})();function dt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onClick(s.id))}),t.TgZ(1,"div",3),t._uU(2),t.qZA()()}if(2&n){const e=r.$implicit,o=r.index,i=t.oxw();t.Q6J("ngClass",(null==e?null:e.id)===i.selected||""===i.selected&&0===o?"section-selector__item__line-active":"section-selector__item__line-inactive"),t.xp6(2),t.hij(" ",null==e?null:e.name," ")}}let _t=(()=>{class n{constructor(){this.sectionsPosition=[],this.selected=""}ngOnInit(){this.sections&&this.sections[0]&&(this.selected=this?.sections[0]?.id)}ngOnChanges(e){this.sectionsPosition=this.sections?.map(o=>({id:o.id,yValue:document.getElementById(o.id)?.getClientRects()[0].y||0}))||[]}onClick(e){document.getElementById(e)?.scrollIntoView()}detectPosition(){this.sectionsPosition=this.sections?.map(o=>({id:o.id,yValue:window.scrollY+(document.getElementById(o.id)?.getBoundingClientRect().y||0)}))||[],this.sectionsPosition.sort((o,i)=>o.yValue-i.yValue);let[e]=this.sectionsPosition.filter(o=>o.yValue-170<window.scrollY).slice(-1);e||([e]=this.sectionsPosition.slice(0,1)),this.selected=e.id||""}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-section-selector"]],hostBindings:function(o,i){1&o&&t.NdJ("scroll",function(l){return i.detectPosition(l)},!1,t.Jf7)},inputs:{sections:"sections"},features:[t.TTD],decls:2,vars:1,consts:[[1,"section-selector"],["class","section-selector__item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"section-selector__item",3,"ngClass","click"],[1,"section-selector__item__name"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,dt,3,2,"div",1),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngForOf",i.sections))},dependencies:[c.mk,c.sg],styles:[".section-selector[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.section-selector[_ngcontent-%COMP%]{z-index:800;padding:0 1rem;background-color:#fff;position:sticky;top:0;display:flex;flex-direction:row;overflow:hidden;overflow-x:scroll;-ms-overflow-style:none}.section-selector__item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:3.25rem;border-bottom:5px solid black;white-space:nowrap}.section-selector__item__name[_ngcontent-%COMP%]{padding:0 1rem}.section-selector__item__line-active[_ngcontent-%COMP%]{border-bottom:5px solid #000000}.section-selector__item__line-inactive[_ngcontent-%COMP%]{border-bottom:5px solid #E2E2E2}"]})}return n})();function gt(n,r){1&n&&t._UZ(0,"app-section",5),2&n&&t.Q6J("category",r.$implicit)}let pt=(()=>{class n{constructor(e,o,i,s,l){this.router=e,this.cartService=o,this.menuService=i,this.storeService=s,this.activatedRoute=l,this.catalogId=this.activatedRoute.snapshot.queryParamMap.get("catalog")||void 0,this.storeId=this.activatedRoute.snapshot.queryParamMap.get("store")||void 0,this.catalog={id:"",name:"",categories:[],products:[]},this.store={id:"",name:"",description:"",image:void 0}}ngOnInit(){(function A(...n){const r=(0,w.jO)(n),e=function Z(n){return 1===n.length&&b(n[0])?n[0]:n}(n);return e.length?new C.y(o=>{let i=e.map(()=>[]),s=e.map(()=>!1);o.add(()=>{i=s=null});for(let l=0;!o.closed&&l<e.length;l++)(0,y.Xf)(e[l]).subscribe((0,O.x)(o,d=>{if(i[l].push(d),i.every(_=>_.length)){const _=i.map(h=>h.shift());o.next(r?r(..._):_),i.some((h,ht)=>!h.length&&s[ht])&&o.complete()}},()=>{s[l]=!0,!i[l].length&&o.complete()}));return()=>{i=s=null}}):T.E})(this.menuService.getCatalog(this.catalogId||""),this.storeService.getStoreById(this.storeId||"")).subscribe({next:([e,o])=>{this.catalog=e,this.store=o},error:e=>{this.router.navigate(["not-found"])}})}viewCart(){this.router.navigate([`/cart/${this.cartService.getCartId(this.catalogId)}`],{queryParams:{catalog:this.catalog.id}})}get hiddenCart(){return!this.store.cartEnabled||0===this.cartService.getItems(this.catalogId).length}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(g.F0),t.Y36(M.N),t.Y36(S),t.Y36(F.d),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-catalog"]],decls:7,vars:6,consts:[[3,"store"],[3,"sections"],[1,"catalog",3,"ngClass"],[3,"category",4,"ngFor","ngForOf"],["subtitle","Ver pedido",3,"hidden","title","click"],[3,"category"]],template:function(o,i){1&o&&(t._UZ(0,"app-navbar")(1,"app-brand",0)(2,"app-section-selector",1),t.TgZ(3,"div",2),t.YNc(4,gt,1,1,"app-section",3),t.qZA(),t.TgZ(5,"app-floating-button",4),t.NdJ("click",function(){return i.viewCart()}),t.qZA(),t._UZ(6,"app-footer")),2&o&&(t.xp6(1),t.Q6J("store",i.store),t.xp6(1),t.Q6J("sections",i.catalog.categories),t.xp6(1),t.Q6J("ngClass",i.hiddenCart?"catalog__none-white-space":"catalog__white-space"),t.xp6(1),t.Q6J("ngForOf",i.catalog.categories),t.xp6(1),t.s9C("title",i.store.name),t.Q6J("hidden",i.hiddenCart))},dependencies:[c.mk,c.sg,j,G,D.w,K,lt,_t],styles:[".catalog[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.catalog__white-space[_ngcontent-%COMP%]{margin:1rem 1rem 5.5rem}.catalog__none-white-space[_ngcontent-%COMP%]{margin:1rem}"]})}return n})();var mt=a(5621);const ut=[{path:":catalogId",component:pt}];let ft=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[c.ez,g.Bz.forChild(ut),mt.m]})}return n})()}}]);